<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head><th:block th:replace="fragments/head :: header"/>
	<title>RPC - Profesor</title>
	<style>
		.contestBox {
			float: left; 
			width: 500px; 
			height: 800px;
			padding: 5px;
			border: 1px solid #aaaaaa;
			vertical-align: middle;
		}
	    div.scroll { 
	        margin:4px, 4px; 
	        padding:4px; 
	        width: 400px; 
	        height: 300px; 
	        overflow-x: hidden; 
	        overflow-x: auto; 
	        text-align:justify; 
	    }
        .container {
	        display: flex;
	    }
	</style>
</head>
<body>
	<nav th:replace="fragments/nav.html :: nav">
		Nav goes here
	</nav>
	
	<div class="container">
	<div class="main">
		
		<h1>
			Vista de concursos
		</h1>

		<div class="container">
			<div style="width:25%;">
				<div class="classBox">		
					<form th:if="${contestList}" th:each="c: ${contestList}" 
							th:action="@{/admin/{id}/contest/{contestId}(id=${session.u.id},contestId=${c.id})}">
						<button type="submit" th:text="${c.name}">Mis clases</button>
	  				</form>					
				</div>
			</div>

			<div style="width:75%;">
				<div class="contestBox" th:if=${contest}>
					<th th:text="${contest.name}"></th>
					<div class="scroll">
						<div th:each="q: ${contest.questions}">
							<th th:text="${q.text}"></th>
							<table th:unless="${q.answers == null}">
								<tr  th:each="a: ${q.answers}">
									<td th:text="${a.text}"></td>
									<td th:text="${a.score}"></th>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>			
		</div>

		<form th:action="@{/admin/{id}/contest(id=${session.u.id})}" method="POST" enctype="multipart/form-data">
			Fichero de concurso <input type="file" name="contestfile"/>
			<button type="submit">Crear concurso</button>
		</form>
		
	</div>
	</div>

	<script type="text/javascript">

	</script>
</body>
</html>
